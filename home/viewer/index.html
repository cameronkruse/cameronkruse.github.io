<!DOCTYPE HTML>
<html>
<style>
    // Hidden class
    .hidden {
        visibility:hidden; height:0; width: 0;
    }

</style>
<head>
    <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.0.3.js"></script>
</head>

<body>
  <!-- Insert an empty iframe, hidden by default using a class-->
  <iframe src="" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" class="hidden"></iframe>

  <!-- Initialize the viewer -->
  <script type="text/javascript">

    var iframe = document.getElementById( 'api-frame' );

        var urlid = '731235038f6945d19f10d9331b78ea09';
        var client = null;

        function loadmodel(){
            document.addEventListener('load', () => console.log('viewerready'))

            // By default, the latest version of the viewer API will be used.
            var client = new Sketchfab( iframe );

            // Alternatively, you can request a specific version.
            // var client = new Sketchfab( '1.0.0', iframe );

            client.init( urlid, {
                success: function onSuccess( api ){
                    console.log( 'Success' );
                    api.load();
                    api.start();

                    api.addEventListener( 'viewerready', function() {
                        console.log( 'Viewer is ready');
                      //once the viewer is ready, show the iframe
                        let $apiFrame = document.getElementById("api-frame");
                        $apiFrame.classList.remove("hidden"); // Remove hidden class
                    } );
                },
                error: function onError(callback){
                    console.log(this.error);
                }
            } );
        };
  </script>

  <button onclick="loadmodel()">Click me to load model and show iframe.</button>
</body>

</html>
