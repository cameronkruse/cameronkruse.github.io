<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sketchfab Viewer API example</title>

    <!-- Insert this script -->
    <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.0.3.js"></script>
</head>

<body>
    <!-- Insert an empty iframe -->
    <iframe src="" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

    <!-- Initialize the viewer -->
    <script type="text/javascript">
    // var iframe = document.getElementById( 'api-frame' );
    var iframe = $( '#api-frame' )[ 0 ];
    var urlid = '7w7pAfrCfjovwykkEeRFLGw5SXS';

    // By default, the latest version of the viewer API will be used.
    var client = new Sketchfab( iframe );

    // Alternatively, you can request a specific version.
    // var client = new Sketchfab( '1.0.0', iframe );

    var error = function () {
        console.error( 'Error api Sketchfab !' );
    };

    var success = function ( api ) {

        var target = [ 0.0, 0.0, 1.0 ];

        var cameraList = [ {
            eye: [ 2, 0, 0 ]
        }, {
            eye: [ 1, 1, 0 ]
        }, {
            eye: [ 0, 2, 0 ]
        }, {
            eye: [ -1, 1, 0 ]
        }, {
            eye: [ -2, 0, 0 ]
        }, {
            eye: [ -1, -1, 0 ]
        }, {
            eye: [ 0, -2, 0 ]
        }, {
            eye: [ 1, -1, 0 ]
        } ];

        var currentCamera = 5;

        var loop = function () {
            currentCamera++;
            api.lookat( cameraList[ currentCamera % 8 ].eye, target, 4 );
            setTimeout( loop, 5000 );
        }

        api.start( loop );

    };

    client.init( urlid, {
        success: success,
        error: error
        // success: function onSuccess( api ){
        //     api.start();
        //     api.addEventListener( 'viewerready', function() {

        //         // API is ready to use
        //         // Insert your code here
        //         console.log( 'Viewer is ready' );

        //     } );
        // },
        // error: function onError() {
        //     console.log( 'Viewer error' );
        // }
    } );
    </script>
</body>
</html>
